{% extends 'base.html' %}
{% load static %}
{% block content %}

    <section class="product-detail-page">
        <div class="section-container">

            <!-- IMAGE + MAIN INFO -->
            <div class="image-text split-layout">
                <div class="image-column">
                    <img src="{{ product.image.url }}" alt="{{ product.title }}">
                </div>
                <div class="info-column">
                    <h2>{{ product.title }}</h2>
                    <p>{{ product.description }}</p>
                    {#                {%  %}#}
                    {#                    <div class="accordion">#}
                    {#                        <div class="accordion-item">#}
                    {#                            <h3 class="accordion-header">üßÄ –°—ä—Å—Ç–∞–≤</h3>#}
                    {#                            <p class="accordion-content">{{ product.ingredients }}</p>#}
                    {#                        </div>#}
                    {#                        <div class="accordion-item">#}
                    {#                            <h3 class="accordion-header">üì¶ –°—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ</h3>#}
                    {#                            <p class="accordion-content">{{ product.storage }}</p>#}
                    {#                        </div>#}
                    {#                        <div class="accordion-item">#}
                    {#                            <h3 class="accordion-header">‚ùì –•—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞</h3>#}
                    {#                            {% if product.nutrition %}#}
                    {#                                <div class="accordion-content">#}
                    {#                                    <div class="nutrition-list">#}
                    {#                                        <ul style="list-style-type: none; padding-left: 0; margin: 0;">#}
                    {#                                            <li>–•—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –∑–∞ 100g:</li>#}
                    {#                                            <li>–ï–Ω–µ—Ä–≥–∏–π–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç: {{ product.nutrition.energy }}</li>#}
                    {#                                            <li>–ú–∞–∑–Ω–∏–Ω–∏: {{ product.nutrition.fat }}g</li>#}
                    {#                                            <li>–û—Ç –∫–æ–∏—Ç–æ –Ω–∞—Å–∏—Ç–µ–Ω–∏ –º–∞—Å—Ç–Ω–∏ –∫–∏—Å–µ–ª–∏–Ω–∏: {{ product.nutrition.saturated_fat }}g</li>#}
                    {#                                            <li>–í—ä–≥–ª–µ—Ö–∏–¥—Ä–∞—Ç–∏: {{ product.nutrition.carbohydrates }}g</li>#}
                    {#                                            <li>–û—Ç –∫–æ–∏—Ç–æ –∑–∞—Ö–∞—Ä–∏: {{ product.nutrition.sugars }}g</li>#}
                    {#                                            <li>–ë–µ–ª—Ç—ä—Ü–∏: {{ product.nutrition.protein }}g</li>#}
                    {#                                            <li>–°–æ–ª: {{ product.nutrition.salt }}g</li>#}
                    {#                                        </ul>#}
                    {#                                    </div>#}
                    {#                                </div>#}
                    {##}
                    {#                            {% else %}#}
                    {#                                <p class="accordion-content">–ù—è–º–∞ –Ω–∞–ª–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.</p>#}
                    {#                            {% endif %}#}
                    {#                        </div>#}
                    {#                    </div>#}
                </div>
                <div class="info-column">
                    <h2 style="text-align: center; font-size: 2rem; margin-top: 2rem;">–í–∫—É—Å–æ—Ç–∏–∏ —Å {{ product.title }}</h2>
                    {% if recipes %}
                        <div class="recipe-list">
                        {% for recipe in recipes %}
                            <a href="{% url 'recipe_detail' recipe.pk %}" class="recipe-card">
                                <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                                <div class="info">
                                    <h3>{{ recipe.title }}</h3>
                                    <p>‚è±Ô∏è {{ recipe.cook_time }} –º–∏–Ω</p>
                                </div>
                            </a>
                        {% endfor %}
                    {% else %}
                        <p>–í—Å–µ –æ—â–µ –Ω—è–º–∞ –Ω–∞–ª–∏—á–Ω–∏ —Ä–µ—Ü–µ–ø—Ç–∏ —Å —Ç–æ–∑–∏ –ø—Ä–æ–¥—É–∫—Ç</p>
                    {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="quality-top-bg">
        <div class="quality-overlay">
            <div class="quality-content">
                <img src="{% static 'uploads/1 (1).png' %}" alt="–ú–ª—è–∫–æ –∏ —Ñ–µ—Ä–º–∞" class="quality-icon">
                <div class="quality-text">
                    <h2>–ü—ä—Ä–≤–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–∏ —Å—É—Ä–æ–≤–∏–Ω–∏,<br>–¥–æ–±–∏–≤–∞–Ω–∏ –≤ –ø—ä—Ä–≤–æ–∫–ª–∞—Å–Ω–∏ —Ñ–µ—Ä–º–∏</h2>
                    <p>–ì–∞—Ä–∞–Ω—Ç–∏—Ä–∞–Ω–æ 100% –Ω–∞—Ç—É—Ä–∞–ª–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏.</p>
                </div>
            </div>
        </div>
    </div>
    <section class="product-detail-page">
        <div class="section-container">

            <!-- ‚Äú–î—Ä—É–≥–∏ –ø—Ä–æ–¥—É–∫—Ç–∏‚Äù PREVIEW -->
            <section class="other-products">
                <h2>–î—Ä—É–≥–∏ –ø—Ä–æ–¥—É–∫—Ç–∏</h2>
                <div class="product-grid">
                    {% for other in other_products %}
                        <a href="{% url 'product_detail' other.pk %}">
                            <div class="product-card">
                                <img src="{{ other.image.url }}" alt="{{ other.title }}">
                                {% if other.badge %}
                                    <img src="{{ other.badge.url }}" alt="badge" class="badge-img">
                                {% endif %}
                                <div class="card-body">
                                    <h3 class="card-title">{{ other.title }}</h3>
                                    <p class="card-subtitle">{{ other.badge_text }}</p>
                                </div>
                            </div>
                        </a>
                    {% endfor %}
                </div>
            </section>

        </div>
    </section>
    <section class="team-banner">
        <img src="{% static 'uploads/team_banner.png' %}" alt="–ï–∫–∏–ø—ä—Ç –Ω–∞ –°–∞–∫–∞—Ä–µ–ª–∞">
    </section>
    <section class="yellow-bar">
        <p>–ü–†–û–î–£–ö–¢–ò –° –ì–ê–†–ê–ù–¢–ò–†–ê–ù–û –ö–ê–ß–ï–°–¢–í–û –ò –ü–†–û–ò–ó–•–û–î</p>
    </section>

    <script>
        // BASIC ACCORDION TOGGLE
        document.querySelectorAll('.accordion-item').forEach(item => {
            const header = item.querySelector('.accordion-header');
            header.addEventListener('click', () => {
                item.classList.toggle('open');
            });
        });
    </script>

{% endblock %}
